<?php
$translate = $this->plugin('translate');
$escape = $this->plugin('escapeHtml');
$escapeAttr = $this->plugin('escapeHtmlAttr');
$hyperlink = $this->plugin('hyperlink');
$dataTypeHelper = $this->plugin('dataType');

$icons = [
    'resource:item' => 'items',
    'resource:itemset' => 'item-sets',
    'resource:media' => 'media',
];
?>

<div class="template value" data-data-type="<?php echo $escape($dataType); ?>" data-data-type-label="<?php echo $escapeAttr($translate($dataType === 'resource' ? 'Omeka resource' : $dataTypeHelper->getLabel($dataType))); ?>" data-data-type-icon="<?php echo in_array($dataType, $icons) ? $icons[$dataType] : '' ?>" role="group">
    <div class="sortable-handle"></div>
    <div class="input-body"><?php echo $dataTypeHelper->getTemplate($dataType); ?></div>
    <div class="input-footer">
        <span class="restore-value"><?php echo $translate('Value to be removed'); ?></span>
        <ul class="actions">
            <li><?php echo $hyperlink('', '#', ['class' => 'o-icon-delete remove-value', 'title' => $translate('Remove value')]); ?></li>
            <li><?php echo $hyperlink('', '#', ['class' => 'o-icon-undo restore-value', 'title' => $translate('Restore value')]); ?></li>
            <li>
                <?php echo $hyperlink('', '#', ['class' => 'value-visibility o-icon-public', 'title' => $translate('Make private'), 'aria-label' => $translate('Make private')]); ?>
                <input type="hidden" class="is_public">
            </li>
        </ul>
    </div>
</div>
